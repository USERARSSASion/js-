<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>双向链表结构的封装</title>
</head>
<body>
<div>
  <img src="./doubleLink.png" alt="">
  <p>既可以从头遍历到尾，又可以从尾遍历到头</p>
  <p>eg: 文本编辑器存储一行文字</p>
</div>

<script>
  // 封装链表
  function DoublyLinkedList() {
    // 内部类
    function Node(data) {
      this.data = data;
      this.prev = null;
      this.next = null;
    }

    // 属性
    this.head = null;
    this.tail = null;
    this.length = 0;

    // 常见的操作：方法
    // 1. 追加方法
    DoublyLinkedList.prototype.append = function (data) {
      // 1. 创建新节点
      var newNode = new Node(data);
      // 2. 判断添加的是否是第一个节点
      if (this.length === 0) {
        this.head = newNode;
        this.tail = newNode;
      } else {
        newNode.prev = this.tail;
        this.tail.next = newNode;
        this.tail = newNode
      }
      // 3. 长度 +1
      this.length += 1;
    }

    // 2. toString
    DoublyLinkedList.prototype.toString = function () {
      return this.backwardString()
    }
    // 3. forwardString 方法
    DoublyLinkedList.prototype.forwardString = function () {
      // 1. 定义变量
      var current = this.tail;
      var resultString = '';
      // 2. 依次向前遍历获取每个节点
      while (current) {
        resultString += current.data + ' ';
        current = current.prev;
      }

      return resultString
    }
    // 4. backwardString 方法
    DoublyLinkedList.prototype.backwardString = function () {
      // 1. 定义变量
      var current = this.head;
      var resultString = '';
      // 2. 依次向后遍历获取每个节点
      while (current) {
        resultString += current.data + ' ';
        current = current.next;
      }

      return resultString
    }
    // 5. insert 方法
    DoublyLinkedList.prototype.insert = function (position, data) {
      
    }
  } 

  var dl = new DoublyLinkedList();
  dl.append('aaa');
  dl.append('bbb');
  dl.append('ccc');
  alert(dl.backwardString())
  alert(dl.forwardString())
</script>
</body>
</html>